<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Mikrotik Auto Backup to E-Mail Generator â€” Mukidi</title>
  <meta name="description" content="Generator script otomatis backup Mikrotik ke email â€” Mukidi version tanpa Firebase/login.">
  <link rel="icon" href="https://mikrotikscript.github.io/favicon.ico" type="image/x-icon">
  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#171717;color:#eee;margin:0;padding:20px}
    .wrap{max-width:1000px;margin:0 auto}
    header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
    header h1{color:#ff6600;margin:0;font-size:20px}
    nav a{color:#aaa;margin-left:12px;text-decoration:none}
    .grid{display:flex;gap:18px}
    @media(max-width:900px){.grid{flex-direction:column}}
    .panel{background:#222;padding:14px;border-radius:8px;border:1px solid rgba(255,255,255,0.05);flex:1}
    label{display:block;font-weight:700;margin-top:8px;color:#ddd}
    input,select{width:100%;padding:8px;margin-top:4px;border-radius:6px;border:1px solid #333;background:#0f0f0f;color:#fff}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    button{background:#ff6600;border:none;color:#111;padding:8px 12px;border-radius:6px;font-weight:700;cursor:pointer}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.2);color:#ddd}
    .output{background:#050505;border:1px solid #222;padding:12px;border-radius:6px;min-height:260px;white-space:pre-wrap;font-family:monospace;color:#cdebd6;overflow:auto}
    .note{font-size:13px;color:#aaa;margin-top:8px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>âœ… Mikrotik Auto Backup to E-Mail Generator (Mukidi)</h1>
	  <nav>
        <a href="https://mikrotikscript.github.io/MikroTik-Generator/" target="_blank">HOME</a>
        <a href="https://github.com/mikrotikscript" target="_blank">GITHUB</a>
        <a href="https://www.facebook.com/irfann.jt/" target="_blank">CONTACT</a>
      </nav>
    </header>

    <main class="grid">
      <!-- Input -->
      <section class="panel" style="max-width:380px">
        <label> Email Server</label>
        <input id="mail-server" type="text" value="smtp.gmail.com">

        <label> Email Port</label>
        <input id="mail-port" type="text" value="587">

        <label> Email User</label>
        <input id="mail-user" type="text" placeholder="user@gmail.com">

        <label> Email Password</label>
        <input id="mail-pass" type="text" placeholder="password">

        <label> Backup File Option</label>
        <select id="backup-opt">
          <option value="backup"> Full Backup Files (.backup)</option>
          <option value="export"> Export Config (.rsc)</option>
        </select>

        <label> Kirim Backup ke Email</label>
        <input id="send-to" type="text" placeholder="your@mail.com">

        <label> Deskripsi Router / Judul Email</label>
        <input id="mail-title" type="text" value="Backup From My Router">

        <label> Scheduler (hari)</label>
        <input id="schedule" type="text" value="7">

        <div class="controls">
          <button id="btn-generate"> Generate</button>
          <button class="ghost" onclick="copyOutput()"> Copy Script</button>
          <button class="ghost" onclick="downloadRSC()"> Download .rsc</button>
          <button class="ghost" onclick="clearAll()"> Clear All</button>
        </div>
      </section>

      <!-- Output -->
      <section class="panel">
        <label>âœ… Generated Script</label>
        <div id="output" class="output">
################################################################
# Mikrotik Auto Backup to E-Mail Script Generator (Mukidi version)
# Created by mikrotikscript.github.io
################################################################
ðŸ“Œ Klik tombol Generate untuk membuat script.
        </div>
      </section>
    </main>

    <footer style="margin-top:14px;color:#aaa;font-size:13px">
      Â© 2025 mikrotikscript.github.io â€” Mukidi version
    </footer>
  </div>

  <script>
    function generate(){
      const srv=document.getElementById('mail-server').value;
      const port=document.getElementById('mail-port').value;
      const user=document.getElementById('mail-user').value;
      const pass=document.getElementById('mail-pass').value;
      const opt=document.getElementById('backup-opt').value;
      const send=document.getElementById('send-to').value;
      const title=document.getElementById('mail-title').value;
      const sched=document.getElementById('schedule').value;

      const lines=[];
      lines.push('################################################################');
      lines.push('# Mikrotik Auto Backup to E-Mail Script');
      lines.push('# Generated by mikrotikscript.github.io');
      lines.push('################################################################\\n');

      lines.push(`/tool e-mail set address=${srv} port=${port} from="${user}" user="${user}" password="${pass}" start-tls=yes`);
      lines.push(`/system scheduler add name="auto-backup" interval=${sched}d on-event="/system backup save name=auto-backup; /tool e-mail send to=\\"${send}\\" subject=\\"${title}\\" file=auto-backup.${opt}" comment="Backup to email every ${sched} days"`);

      document.getElementById('output').textContent=lines.join('\\n');
      window._lastGen=lines.join('\\n');
    }

    function copyOutput(){
      const txt=window._lastGen||document.getElementById('output').textContent;
      if(!txt.trim()){alert('Belum ada script. Klik Generate dulu.');return;}
      navigator.clipboard.writeText(txt).then(()=>alert('Script disalin ke clipboard.'));
    }

    function downloadRSC(){
      const txt=window._lastGen||document.getElementById('output').textContent;
      if(!txt.trim()){alert('Belum ada script. Klik Generate dulu.');return;}
      const blob=new Blob([txt],{type:'text/plain;charset=utf-8'});
      const a=document.createElement('a');
      a.href=URL.createObjectURL(blob);
      a.download='mikrotik-backup-to-mail.rsc';
      document.body.appendChild(a);
      a.click();a.remove();
      URL.revokeObjectURL(a.href);
    }

    function clearAll(){
      document.getElementById('mail-server').value='smtp.gmail.com';
      document.getElementById('mail-port').value='587';
      document.getElementById('mail-user').value='';
      document.getElementById('mail-pass').value='';
      document.getElementById('backup-opt').value='backup';
      document.getElementById('send-to').value='';
      document.getElementById('mail-title').value='Backup From My Router';
      document.getElementById('schedule').value='7';
      document.getElementById('output').textContent='################################################################\\n# Mikrotik Auto Backup to E-Mail Script Generator (Mukidi version)\\n# Created by mikrotikscript.github.io\\n################################################################\\nKlik tombol Generate untuk membuat script.';
      window._lastGen=null;
    }

    document.getElementById('btn-generate').addEventListener('click',generate);
  </script>
</body>
</html>
