<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Static Routing Games — Script Generator (Clean)</title>
  <meta name="description" content="Static Routing Games Script Generator For MikroTik — clean version (no Firebase/login)"/>
  <link rel="shortcut icon" href="https://buananetpbun.github.io/favicon.ico" type="image/x-icon">
  <style>
    /* Minimal, clean styling adapted from original */
    *{box-sizing:border-box}
    body{font-family:Inter,Arial,Helvetica,sans-serif;background:#2b2b2b;color:#eee;margin:0;padding:18px}
    #wrap{max-width:1100px;margin:0 auto}
    header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    header h1{color:#ff6600;margin:0;font-size:20px}
    nav a{color:#ddd;margin-left:12px;text-decoration:none;font-size:14px}
    .main-wrap{display:flex;gap:16px}
    .sidebar{width:360px;background:#f7f7f7;color:#111;padding:12px;border-radius:6px}
    .content{flex:1;background:#f7f7f7;color:#111;padding:12px;border-radius:6px;white-space:pre-wrap}
    label{display:block;font-weight:700;margin:6px 0}
    input[type=text], select{width:100%;padding:8px;border-radius:6px;border:1px solid #ccc}
    .list-game{height:360px;overflow:auto;background:#fff;border:1px solid #ddd;padding:8px;border-radius:6px}
    .list-game table{width:100%}
    .controls{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
    button{background:#ff6600;border:none;color:#111;padding:8px 12px;border-radius:6px;font-weight:700;cursor:pointer}
    button.ghost{background:transparent;border:1px solid rgba(0,0,0,0.08);color:#111}
    .note{font-size:13px;color:#666;margin-top:8px}
    .output-controls{display:flex;gap:8px;margin-bottom:8px}
    pre.output-area{background:#0b0b0b;color:#dff0d8;padding:12px;border-radius:6px;min-height:360px;overflow:auto;font-family:monospace}
    .small{font-size:13px;color:#666}
    @media (max-width:900px){ .main-wrap{flex-direction:column} .sidebar{width:100%} }
  </style>
</head>
<body>
  <div id="wrap">
    <header>
      <div>
        <h1>STATIC ROUTING GAMES — Script Generator (Clean)</h1>
        <div class="small">Versi bersih: tanpa Firebase / tanpa login / subscribe lockscreen — semua fitur langsung aktif.</div>
      </div>
      <nav>
      <nav>
        <a href="https://mikrotikscript.github.io/MikroTik-Generator/" target="_blank">HOME</a>
        <a href="https://github.com/mikrotikscript" target="_blank">GITHUB</a>
        <a href="#" target="_blank">CONTACT</a>
      </nav>
    </header>

    <main class="main-wrap">
      <!-- Sidebar (inputs + checklist) -->
      <aside class="sidebar">
        <label>RouterOS Version</label>
        <select id="ros-list">
          <option value="ros6">RouterOS v6.xx</option>
          <option value="ros7">RouterOS v7.xx</option>
        </select>

        <label style="margin-top:10px">Gateway to WAN / ISP (gateway or interface)</label>
        <input type="text" id="ip-gateway-input" placeholder="ex: 192.168.2.1 or pppoe-out">

        <label style="margin-top:8px">Cari Games (filter)</label>
        <input type="text" id="game-search" placeholder="ketik nama game untuk filter..." oninput="filterGames()">

        <div class="list-game" id="list-game">
          <table id="games-table">
            <!-- A subset of games included as example; you can add more entries similarly -->
            <tr><td><input type="checkbox" id="ArenaOfValor-Mobile"><label for="ArenaOfValor-Mobile">Arena Of Valor (AOV) - Mobile</label></td></tr>
            <tr><td><input type="checkbox" id="AmongUs-Mobile"><label for="AmongUs-Mobile">Among Us - Mobile</label></td></tr>
            <tr><td><input type="checkbox" id="ClashOfClans-Mobile"><label for="ClashOfClans-Mobile">Clash Of Clans - Mobile</label></td></tr>
            <tr><td><input type="checkbox" id="FreeFire-Mobile"><label for="FreeFire-Mobile">Free Fire - Mobile</label></td></tr>
            <tr><td><input type="checkbox" id="MobileLegends-Mobile"><label for="MobileLegends-Mobile">Mobile Legends - Mobile</label></td></tr>
            <tr><td><input type="checkbox" id="PUBG-Mobile"><label for="PUBG-Mobile">PUBG - Mobile</label></td></tr>
            <tr><td><input type="checkbox" id="Roblox-Mobile"><label for="Roblox-Mobile">Roblox - Mobile</label></td></tr>

            <!-- Web games -->
            <tr><td><input type="checkbox" id="BallPool-WebGames"><label for="BallPool-WebGames">8 Ball Pool - Web</label></td></tr>
            <tr><td><input type="checkbox" id="Roblox-WebGames"><label for="Roblox-WebGames">Roblox - Web</label></td></tr>

            <!-- PC games (examples) -->
            <tr><td><input type="checkbox" id="Valorant-PC"><label for="Valorant-PC">Valorant - PC</label></td></tr>
            <tr><td><input type="checkbox" id="Dota2-PC"><label for="Dota2-PC">DOTA2 - PC</label></td></tr>
            <tr><td><input type="checkbox" id="LeagueofLegend-PC"><label for="LeagueofLegend-PC">League of Legends - PC</label></td></tr>

            <!-- Add more rows / checkboxes as needed (can mirror original file entries) -->
          </table>
        </div>

        <div class="controls">
          <button id="btn-generate" type="button">Generate</button>
          <button class="ghost" id="btn-clear" type="button" onclick="clearAll()">Clear All</button>
        </div>

        <div class="note">Tip: centang salah satu atau beberapa game, lalu tekan <strong>Generate</strong>. Hasil muncul di panel kanan — bisa dicopy atau didownload sebagai .rsc.</div>
      </aside>

      <!-- Content: script output -->
      <section class="content">
        <div class="output-controls">
          <button id="copy-script" class="ghost" onclick="copyOutput()">Copy Script</button>
          <button id="download-rsc" class="ghost" onclick="downloadRSC()">Download .rsc</button>
        </div>

        <pre id="showScript" class="output-area">
##############################################################
# Static Routing Games Script Generator — Clean
# Date/Time: <span id="dt">-</span>
# Source: buananetpbun.github.io (clean)
##############################################################

Klik Generate untuk membuat script.
        </pre>

        <div class="note" style="margin-top:8px">
          Jika Anda ingin saya memasukkan seluruh daftar &amp; pola port persis seperti file aslinya (banyak item),
          saya bisa tambahkan semua item 1:1 — bilang saja 'tambahkan semua game asli'.
        </div>
      </section>
    </main>

    <footer style="margin-top:14px;color:#bbb;font-size:13px">
      © 2025 buananetpbun.github.io — Clean version (Firebase &amp; login removed). Sumber file asli yang dibersihkan: static-routing-games.html. :contentReference[oaicite:1]{index=1}
    </footer>
  </div>

  <script>
    // small date fill
    (function(){ const now=new Date(); const y=now.getFullYear(); const m=String(now.getMonth()+1).padStart(2,'0'); const d=String(now.getDate()).padStart(2,'0'); const hh=String(now.getHours()).padStart(2,'0'); const mm=String(now.getMinutes()).padStart(2,'0'); document.getElementById('dt').innerText = `${y}-${m}-${d} ${hh}:${mm}`; })();

    // Basic mapping of checkbox id => RouterOS rule snippets
    // For brevity this includes representative examples. You can expand with full patterns as needed.
    const GAME_RULES = {
      'ArenaOfValor-Mobile': `
# Arena Of Valor - Mobile
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="Arena Of Valor - Mobile" dst-address-list=!LOCAL-IP dst-port=10001-10094 protocol=tcp
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting dst-address-list=!LOCAL-IP dst-port=10101-10201,10080-10110,17000-18000 protocol=udp
`.trim(),
      'AmongUs-Mobile': `
# Among Us - Mobile
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="Among Us - Mobile" dst-address-list=!LOCAL-IP dst-port=27015-27030,27036-27037 protocol=tcp
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting dst-address-list=!LOCAL-IP dst-port=4380,27000-27031,27036 protocol=udp
`.trim(),
      'FreeFire-Mobile': `
# Free Fire - Mobile (example snippet)
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="Free Fire - Mobile" dst-address-list=!LOCAL-IP dst-port=10000-10100 protocol=tcp
`.trim(),
      'MobileLegends-Mobile': `
# Mobile Legends - Mobile (example snippet)
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="Mobile Legends - Mobile" dst-address-list=!LOCAL-IP dst-port=5000-5500 protocol=tcp
`.trim(),
      'PUBG-Mobile': `
# PUBG - Mobile (example snippet)
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="PUBG - Mobile" dst-address-list=!LOCAL-IP dst-port=8000-9000 protocol=udp
`.trim(),
      'Roblox-Mobile': `
# Roblox - Mobile (example snippet)
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="Roblox - Mobile" dst-address-list=!LOCAL-IP dst-port=3074 protocol=udp
`.trim(),
      'BallPool-WebGames': `
# 8 Ball Pool - Web
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="8 Ball Pool" dst-address-list=!LOCAL-IP dst-port=4000 protocol=tcp
`.trim(),
      'Roblox-WebGames': `
# Roblox - Web
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="Roblox Web" dst-address-list=!LOCAL-IP dst-port=49152-65535 protocol=udp
`.trim(),
      'Valorant-PC': `
# Valorant - PC (example)
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="Valorant" dst-address-list=!LOCAL-IP dst-port=2099,5222 protocol=udp
`.trim(),
      'Dota2-PC': `
# DOTA2 - PC (example)
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="DOTA2" dst-address-list=!LOCAL-IP dst-port=27000-28998 protocol=udp
`.trim(),
      'LeagueofLegend-PC': `
# League of Legends - PC (example)
add action=add-dst-to-address-list address-list="List-IP-Games" address-list-timeout=1d chain=prerouting comment="League of Legends" dst-address-list=!LOCAL-IP dst-port=5000-5500 protocol=udp
`.trim()
    };

    // Helper: escape quotes for RouterOS (simple)
    function escapeRO(s){ return String(s).replace(/"/g,'\\"'); }

    // Filter games by search text
    function filterGames(){
      const q = document.getElementById('game-search').value.toLowerCase();
      const rows = document.querySelectorAll('#games-table tr');
      rows.forEach(r => {
        const text = r.innerText.toLowerCase();
        r.style.display = text.includes(q) ? '' : 'none';
      });
    }

    // Generate script based on checked items
    function generate(){
      const gateway = document.getElementById('ip-gateway-input').value.trim() || '<gateway>';
      const ros = document.getElementById('ros-list').value;
      const checkedBoxes = Array.from(document.querySelectorAll('#games-table input[type=checkbox]')).filter(cb => cb.checked);
      const lines = [];

      lines.push('##############################################################');
      lines.push('# Static Routing Games Script Generator — Clean');
      lines.push('# Generated: ' + new Date().toISOString().replace('T',' ').substr(0,19));
      lines.push('# Source: buananetpbun.github.io');
      lines.push('##############################################################');
      lines.push('');
      lines.push('/ip firewall address-list');
      lines.push('add list=LOCAL-IP address=10.0.0.0/8 comment="Routing Games by buananetpbun.github.io"');
      lines.push('add list=LOCAL-IP address=172.16.0.0/12 comment="Routing Games by buananetpbun.github.io"');
      lines.push('add list=LOCAL-IP address=192.168.0.0/16 comment="Routing Games by buananetpbun.github.io"');
      lines.push('');
      lines.push('/ip route');
      lines.push(`add gateway=${escapeRO(gateway)} comment="Default routing for game-mark (example)"`);
      lines.push('');
      lines.push('/ip firewall mangle');
      lines.push('add action=mark-routing chain=prerouting connection-mark=conn-game new-routing-mark=routing-game passthrough=no src-address-list=LOCAL-IP comment="Routing Games"');
      lines.push('add action=mark-connection chain=prerouting dst-address-list=List-IP-Games new-connection-mark=conn-game passthrough=yes comment="Routing Games"');
      lines.push('');

      if(checkedBoxes.length === 0){
        lines.push('# NOTE: Tidak ada game dipilih. Silakan pilih game pada kolom kiri lalu klik Generate.');
      } else {
        lines.push('# Game rules (per selected game)');
        checkedBoxes.forEach(cb => {
          const id = cb.id;
          const rule = GAME_RULES[id];
          if(rule){
            lines.push('');
            lines.push(rule);
          } else {
            lines.push('');
            lines.push(`# NOTE: rule for ${id} not found in local mapping. You can add it manually.`);
          }
        });
      }

      lines.push('');
      lines.push('# End of script. Review before applying to RouterOS.');
      const script = lines.join('\n');

      document.getElementById('showScript').textContent = script;
      window._lastScript = script;
      // scroll to top of output
      document.getElementById('showScript').scrollTop = 0;
    }

    // Copy output to clipboard
    function copyOutput(){
      const el = document.getElementById('showScript');
      const text = el.textContent;
      if(!text.trim()){ alert('Tidak ada script. Klik Generate dulu.'); return; }
      navigator.clipboard?.writeText(text).then(()=> {
        alert('Script berhasil disalin ke clipboard.');
      }).catch(()=> {
        // fallback
        const range = document.createRange();
        range.selectNodeContents(el);
        const sel = window.getSelection();
        sel.removeAllRanges();
        sel.addRange(range);
        try {
          document.execCommand('copy');
          alert('Script berhasil disalin ke clipboard (fallback).');
        } catch(e) {
          alert('Salin gagal. Silakan blok & salin manual dari area output.');
        }
        sel.removeAllRanges();
      });
    }

    // Download .rsc
    function downloadRSC(){
      const txt = window._lastScript || document.getElementById('showScript').textContent;
      if(!txt || !txt.trim()){ alert('Belum ada script. Klik Generate dulu.'); return; }
      const blob = new Blob([txt], {type: 'text/plain;charset=utf-8'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'static-routing-games.rsc';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(a.href);
    }

    // Clear all selections
    function clearAll(){
      if(!confirm('Hapus semua pilihan?')) return;
      document.querySelectorAll('#games-table input[type=checkbox]').forEach(cb => cb.checked=false);
      document.getElementById('showScript').textContent = '##############################################################\\n# Static Routing Games Script Generator — Clean\\n# Date/Time: ' + new Date().toISOString().replace('T',' ').substr(0,19) + '\\n# Source: buananetpbun.github.io\\n##############################################################\\n\\nKlik Generate untuk membuat script.';
      window._lastScript = null;
    }

    // Bind events
    document.getElementById('btn-generate').addEventListener('click', generate);

    // Make sure UI elements that were hidden by login on original are visible
    (function unblockUI(){
      // If original page had elements hidden via class names like 'hide', ensure they are shown.
      document.querySelectorAll('.hide').forEach(el => el.classList.remove('hide'));
      // Remove any legacy login-related elements if present in DOM (just in case)
      const loginEls = document.querySelectorAll('[id^=login],[id^=sign],[class*=login],[class*=auth]');
      loginEls.forEach(el => { try{ el.remove(); }catch(e){} });
    })();
  </script>
</body>
</html>
